

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>fastf1.utils - Utils module &mdash; Fast F1 2.1.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="fastf1.plotting - Plotting module" href="plotting.html" />
    <link rel="prev" title="fastf1.api - Api module" href="api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Fast F1
          

          
          </a>

          
            
            
              <div class="version">
                2.1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/theOehrly/Fast-F1">← Back to Github</a></li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="fastf1.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="fastf1.html#getting-started">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="fastf1.html#package-functions">Package functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastf1.core</span></code> - Core module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core.html#data-objects">Data Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastf1.api</span></code> - Api module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastf1.utils</span></code> - Utils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastf1.plotting</span></code> - Plotting module</a></li>
<li class="toctree-l1"><a class="reference internal" href="livetiming.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastf1.livetiming</span></code> - Live Timing Client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="livetiming.html#usage-example">Usage Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="livetiming.html#important-notes">Important Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="livetiming.html#command-line-interface">Command Line Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="livetiming.html#save">Save</a></li>
<li class="toctree-l3"><a class="reference internal" href="livetiming.html#extract">Extract</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="livetiming.html#module-fastf1.livetiming.client">Live Timing Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="livetiming.html#module-fastf1.livetiming.data">Live Timing Data Object</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastf1.legacy</span></code> - Provides access to legacy functionality</a></li>
</ul>
<p class="caption"><span class="caption-text">Information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="time_explanation.html">Time, Date and Timing - Explanation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="time_explanation.html#points-in-time">Points in Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_explanation.html#lap-timing">Lap timing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="howto_accurate_calculations.html">How to perform calculations accurately</a><ul>
<li class="toctree-l2"><a class="reference internal" href="howto_accurate_calculations.html#validating-results">Validating results</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto_accurate_calculations.html#working-with-the-available-data">Working with the available data</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto_accurate_calculations.html#slicing-data-by-lap-for-use-in-further-calculations">Slicing data by lap for use in further calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto_accurate_calculations.html#disclaimer">Disclaimer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="known_bugs.html">Known bugs and caveats</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#something-doesn-t-work">Something doesn’t work</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v2-1-2-hotfixes-for-loading-live-timing-data">v2.1.2 Hotfixes for loading live timing data</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v2-1-1-add-support-for-recording-and-using-live-timing-data">v2.1.1 Add support for recording and using live timing data</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v2-1-refactoring-accuracy-improvements-and-a-more-accessible-interface">v2.1: Refactoring, accuracy improvements and a more accessible interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v2-0-2-api-code-overhaul">v2.0.2: API code overhaul</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v2-0-1-integration-of-a-newer-version-of-ax6-s-old-repository">v2.0.1: Integration of a newer version of Ax6’s old repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v2-0-0-first-release-of-this-fork">v2.0.0: first release of this fork</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v1-5-1-last-release-by-ax6">v1.5.1: last release by Ax6</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Fast F1</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastf1.utils</span></code> - Utils module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-fastf1.utils"></span><div class="section" id="fastf1-utils-utils-module">
<h1><a class="reference internal" href="#module-fastf1.utils" title="fastf1.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fastf1.utils</span></code></a> - Utils module<a class="headerlink" href="#fastf1-utils-utils-module" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="fastf1.utils.delta_time">
<code class="sig-prename descclassname"><span class="pre">fastf1.utils.</span></code><code class="sig-name descname"><span class="pre">delta_time</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference_lap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_lap</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fastf1/utils.html#delta_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fastf1.utils.delta_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the delta time of a given lap, along the ‘Distance’ axis
of the reference lap.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is a nice gimmick but not actually very accurate which
is an inherent problem from the way this is calculated currently (There
may not be a better way though). In comparison with the sector times and the
differences that can be calculated from these, there are notable differences!
You should always verify the result against sector time differences or find a
different way for verification.</p>
</div>
<p>Here is an example that compares the quickest laps of Leclerc and
Hamilton from Barcelona 2019 Qualifying:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fastf1</span> <span class="k">as</span> <span class="nn">ff1</span>
<span class="kn">from</span> <span class="nn">fastf1</span> <span class="kn">import</span> <span class="n">plotting</span>
<span class="kn">from</span> <span class="nn">fastf1</span> <span class="kn">import</span> <span class="n">utils</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">quali</span> <span class="o">=</span> <span class="n">ff1</span><span class="o">.</span><span class="n">get_session</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="s1">&#39;Spain&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">)</span>
<span class="n">laps</span> <span class="o">=</span> <span class="n">quali</span><span class="o">.</span><span class="n">load_laps</span><span class="p">()</span>
<span class="n">lec</span> <span class="o">=</span> <span class="n">laps</span><span class="o">.</span><span class="n">pick_driver</span><span class="p">(</span><span class="s1">&#39;LEC&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pick_fastest</span><span class="p">()</span>
<span class="n">ham</span> <span class="o">=</span> <span class="n">laps</span><span class="o">.</span><span class="n">pick_driver</span><span class="p">(</span><span class="s1">&#39;HAM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pick_fastest</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">lec</span><span class="o">.</span><span class="n">telemetry</span><span class="p">[</span><span class="s1">&#39;Distance&#39;</span><span class="p">],</span> <span class="n">lec</span><span class="o">.</span><span class="n">telemetry</span><span class="p">[</span><span class="s1">&#39;Speed&#39;</span><span class="p">],</span>
        <span class="n">color</span><span class="o">=</span><span class="n">plotting</span><span class="o">.</span><span class="n">TEAM_COLORS</span><span class="p">[</span><span class="n">lec</span><span class="p">[</span><span class="s1">&#39;Team&#39;</span><span class="p">]])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ham</span><span class="o">.</span><span class="n">telemetry</span><span class="p">[</span><span class="s1">&#39;Distance&#39;</span><span class="p">],</span> <span class="n">ham</span><span class="o">.</span><span class="n">telemetry</span><span class="p">[</span><span class="s1">&#39;Speed&#39;</span><span class="p">],</span>
        <span class="n">color</span><span class="o">=</span><span class="n">plotting</span><span class="o">.</span><span class="n">TEAM_COLORS</span><span class="p">[</span><span class="n">ham</span><span class="p">[</span><span class="s1">&#39;Team&#39;</span><span class="p">]])</span>
<span class="n">delta_time</span><span class="p">,</span> <span class="n">dt_ref</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">delta_time</span><span class="p">(</span><span class="n">ham</span><span class="p">,</span> <span class="n">lec</span><span class="p">)</span>
<span class="n">twin</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
<span class="n">twin</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dt_ref</span><span class="p">[</span><span class="s1">&#39;Distance&#39;</span><span class="p">],</span> <span class="n">delta_time</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">plotting</span><span class="o">.</span><span class="n">TEAM_COLORS</span><span class="p">[</span><span class="n">lec</span><span class="p">[</span><span class="s1">&#39;Team&#39;</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference external image-reference" href="_static/delta_time.svg"><img alt="_images/delta_time.svg" src="_images/delta_time.svg" /></a>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reference_lap</strong> (<em>pd.Series</em>) – The lap taken as reference</p></li>
<li><p><strong>compare_lap</strong> (<em>pd.Series</em>) – The lap to compare</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(delta, reference, comparison)</dt><dd><ul class="simple">
<li><p>pd.Series of type <cite>float64</cite> with the delta in seconds.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Telemetry</span></code> for the reference lap</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Telemetry</span></code> for the comparison lap
Use the return telemetry for plotting to make sure you have
telemetry data that was created with the same settings!</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fastf1.utils.recursive_dict_get">
<code class="sig-prename descclassname"><span class="pre">fastf1.utils.</span></code><code class="sig-name descname"><span class="pre">recursive_dict_get</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fastf1/utils.html#recursive_dict_get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fastf1.utils.recursive_dict_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursive dict get. Can take an arbitrary number of keys and returns an empty
dict if any key does not exist.
<a class="reference external" href="https://stackoverflow.com/a/28225747">https://stackoverflow.com/a/28225747</a></p>
</dd></dl>

<dl class="py function">
<dt id="fastf1.utils.to_timedelta">
<code class="sig-prename descclassname"><span class="pre">fastf1.utils.</span></code><code class="sig-name descname"><span class="pre">to_timedelta</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fastf1/utils.html#to_timedelta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fastf1.utils.to_timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast timedelta object creation from a time string</p>
<div class="line-block">
<div class="line">String format: hh:mm:ss.ms</div>
<div class="line">Hours or minutes do not necessarily need to be present.</div>
<div class="line">Hours minutes and seconds always need to be zero padded so as to have two digits.</div>
<div class="line">An arbitrary part of the left side can be skipped for example ‘mm:ss.ms’ is acceptable too</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>str</em>) – [hh:][mm:]ss.ms</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>timedelta object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fastf1.utils.to_datetime">
<code class="sig-prename descclassname"><span class="pre">fastf1.utils.</span></code><code class="sig-name descname"><span class="pre">to_datetime</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fastf1/utils.html#to_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fastf1.utils.to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast datetime object creation from a date string.</p>
<dl class="simple">
<dt>Permissible formats:</dt><dd><dl class="simple">
<dt>For example ‘2020-12-13T13:27:320000Z’ with:</dt><dd><ul class="simple">
<li><p>seconds or no seconds</p></li>
<li><p>optional milliseconds and microseconds with
arbitrary precision</p></li>
<li><p>with optional trailing letter ‘Z’</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="plotting.html" class="btn btn-neutral float-right" title="fastf1.plotting - Plotting module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="api.html" class="btn btn-neutral float-left" title="fastf1.api - Api module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, theOehrly.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>